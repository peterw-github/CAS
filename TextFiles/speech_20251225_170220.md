You are spot on. That file shows exactly what happened: **Regex Inception.** The code I sent you contained a line *specifically* designed to find backticks: `text = re.sub(r" [Code Block] ", ...)` My simple cleanup script saw the start of the code block, read down to that line, saw the triple backticks **inside the Python string**, and thought: "Aha! End of code block!" It then cut the block there, replaced it with `[Code Block]`, and proceeded to read the rest of the python code (starting from `) and replaces it with...`) as if it were normal English text. **Yes, please send the raw text.** Please send a sample of the `latest_message.md` file (or just the raw text output from the bridge) containing a code block. Once I see exactly how the AI Studio formats its code blocks (e.g., are they always at the start of a line? Do they always specify a language?), I can write a much smarter "Block Remover" that won't get tricked by code-inside-code.